{"ast":null,"code":"// src/cookie.ts\nvar g = new Set([\"domain\", \"path\", \"max-age\", \"expires\", \"samesite\", \"secure\", \"httponly\"]);\nfunction u(a) {\n  let r = {},\n    e,\n    t,\n    n = 0,\n    m = a.split(/;\\s*/g),\n    s,\n    i;\n  for (; n < m.length; n++) if (t = m[n], e = t.indexOf(\"=\"), ~e) {\n    if (s = t.substring(0, e++).trim(), i = t.substring(e).trim(), i[0] === '\"' && (i = i.substring(1, i.length - 1)), ~i.indexOf(\"%\")) try {\n      i = decodeURIComponent(i);\n    } catch (f) {}\n    g.has(t = s.toLowerCase()) ? t === \"expires\" ? r.expires = new Date(i) : t === \"max-age\" ? r.maxage = +i : r[t] = i : r[s] = i;\n  } else (s = t.trim().toLowerCase()) && (s === \"httponly\" || s === \"secure\") && (r[s] = !0);\n  return r;\n}\nfunction l(a, r) {\n  let e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let t = a + \"=\" + encodeURIComponent(r);\n  return e.expires && (t += \"; Expires=\" + new Date(e.expires).toUTCString()), e.maxage != null && e.maxage >= 0 && (t += \"; Max-Age=\" + (e.maxage | 0)), e.domain && (t += \"; Domain=\" + e.domain), e.path && (t += \"; Path=\" + e.path), e.samesite && (t += \"; SameSite=\" + e.samesite), (e.secure || e.samesite === \"None\") && (t += \"; Secure\"), e.httponly && (t += \"; HttpOnly\"), t;\n}\nexport { u as parse, l as stringify };","map":{"version":3,"names":["g","Set","u","a","r","e","t","n","m","split","s","i","length","indexOf","substring","trim","decodeURIComponent","f","has","toLowerCase","expires","Date","maxage","l","arguments","undefined","encodeURIComponent","toUTCString","domain","path","samesite","secure","httponly","parse","stringify"],"sources":["/home/martin/node_modules/.pnpm/worktop@0.7.3/node_modules/worktop/cookie/index.mjs"],"sourcesContent":["// src/cookie.ts\nvar g = new Set([\n  \"domain\",\n  \"path\",\n  \"max-age\",\n  \"expires\",\n  \"samesite\",\n  \"secure\",\n  \"httponly\"\n]);\nfunction u(a) {\n  let r = {}, e, t, n = 0, m = a.split(/;\\s*/g), s, i;\n  for (; n < m.length; n++)\n    if (t = m[n], e = t.indexOf(\"=\"), ~e) {\n      if (s = t.substring(0, e++).trim(), i = t.substring(e).trim(), i[0] === '\"' && (i = i.substring(1, i.length - 1)), ~i.indexOf(\"%\"))\n        try {\n          i = decodeURIComponent(i);\n        } catch (f) {\n        }\n      g.has(t = s.toLowerCase()) ? t === \"expires\" ? r.expires = new Date(i) : t === \"max-age\" ? r.maxage = +i : r[t] = i : r[s] = i;\n    } else\n      (s = t.trim().toLowerCase()) && (s === \"httponly\" || s === \"secure\") && (r[s] = !0);\n  return r;\n}\nfunction l(a, r, e = {}) {\n  let t = a + \"=\" + encodeURIComponent(r);\n  return e.expires && (t += \"; Expires=\" + new Date(e.expires).toUTCString()), e.maxage != null && e.maxage >= 0 && (t += \"; Max-Age=\" + (e.maxage | 0)), e.domain && (t += \"; Domain=\" + e.domain), e.path && (t += \"; Path=\" + e.path), e.samesite && (t += \"; SameSite=\" + e.samesite), (e.secure || e.samesite === \"None\") && (t += \"; Secure\"), e.httponly && (t += \"; HttpOnly\"), t;\n}\nexport {\n  u as parse,\n  l as stringify\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}