{"ast":null,"code":"import Client from 'shopify-buy';\nconst client = Client.buildClient({\n  domain: \"afrithings.com\",\n  storefrontAccessToken: \"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\"\n});\n\n//FETCH ALL PRODUCTS\nexport const fetchProducts = () => {\n  return new Promise((resolve, reject) => {\n    client.product.fetchAll().then(products => {\n      resolve(products.map(product => {\n        return product.attrs;\n      }));\n    }).catch(error => {\n      console.error(new Error(\"Something went wrong\"));\n      reject(error);\n    });\n  });\n};\n\n//CREATE CHECKOUT\nexport const fetchCart = () => {\n  return new Promise((resolve, reject) => {\n    client.checkout.create().then(cart => {\n      resolve(cart);\n    }).catch(error => {\n      console.log(new Error(\"Fethcing cart error\"));\n      reject(error);\n    });\n  });\n};\nexport default client;","map":{"version":3,"names":["Client","client","buildClient","domain","storefrontAccessToken","fetchProducts","Promise","resolve","reject","product","fetchAll","then","products","map","attrs","catch","error","console","Error","fetchCart","checkout","create","cart","log"],"sources":["/home/martin/Desktop/Project/Afrithings/afrithings/src/util/shopify-client.js"],"sourcesContent":["import Client from 'shopify-buy';\n\nconst client  = Client.buildClient({\n    domain:\"afrithings.com\",\n    storefrontAccessToken:\"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\"\n}) \n\n//FETCH ALL PRODUCTS\nexport const fetchProducts = () => {\n    return new Promise((resolve,reject) => {\n        client.product.fetchAll()\n        .then((products) => {\n            resolve(products.map((product) => {\n                return product.attrs;\n            }))\n        }).catch((error) => {\n            console.error(new Error(\"Something went wrong\"))\n            reject(error)\n        })\n    })\n}\n\n\n//CREATE CHECKOUT\nexport const fetchCart = () => {\n    return new Promise((resolve,reject) => {\n        client.checkout.create()\n        .then(cart => {\n            resolve(cart)\n        }).catch((error) => {\n            console.log(new Error(\"Fethcing cart error\"))\n            reject(error)\n        })\n    })\n}\n\nexport default client;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,aAAa;AAEhC,MAAMC,MAAM,GAAID,MAAM,CAACE,WAAW,CAAC;EAC/BC,MAAM,EAAC,gBAAgB;EACvBC,qBAAqB,EAAC;AAC1B,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAACC,MAAM,KAAK;IACnCP,MAAM,CAACQ,OAAO,CAACC,QAAQ,CAAC,CAAC,CACxBC,IAAI,CAAEC,QAAQ,IAAK;MAChBL,OAAO,CAACK,QAAQ,CAACC,GAAG,CAAEJ,OAAO,IAAK;QAC9B,OAAOA,OAAO,CAACK,KAAK;MACxB,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,IAAIE,KAAK,CAAC,sBAAsB,CAAC,CAAC;MAChDV,MAAM,CAACQ,KAAK,CAAC;IACjB,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC;;AAGD;AACA,OAAO,MAAMG,SAAS,GAAGA,CAAA,KAAM;EAC3B,OAAO,IAAIb,OAAO,CAAC,CAACC,OAAO,EAACC,MAAM,KAAK;IACnCP,MAAM,CAACmB,QAAQ,CAACC,MAAM,CAAC,CAAC,CACvBV,IAAI,CAACW,IAAI,IAAI;MACVf,OAAO,CAACe,IAAI,CAAC;IACjB,CAAC,CAAC,CAACP,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACM,GAAG,CAAC,IAAIL,KAAK,CAAC,qBAAqB,CAAC,CAAC;MAC7CV,MAAM,CAACQ,KAAK,CAAC;IACjB,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC;AAED,eAAef,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}